(window.webpackJsonp=window.webpackJsonp||[]).push([[8,7],{305:function(t,e,n){var content=n(313);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("482fafde",content,!0,{sourceMap:!1})},312:function(t,e,n){"use strict";n(305)},313:function(t,e,n){var r=n(66)(!1);r.push([t.i,".frame[data-v-7776b4a0]{display:flex;min-height:90vh;margin:0;padding:0}.frame>.frame-content[data-v-7776b4a0]{flex-grow:1;margin:0;padding:0;border:0}",""]),t.exports=r},323:function(t,e,n){"use strict";n.r(e);n(285);var r=n(3),c=n(145),o=n(146),l=n(288),f=n(289),d=n(286),v=n(22),h=(n(18),n(65),n(10),n(23),n(287)),m=n(321);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var c=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var j=function(t,e,n,desc){var r,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(c<3?r(o):c>3?r(e,n,o):r(e,n))||o);return c>3&&o&&Object.defineProperty(e,n,o),o},O=function(t){Object(l.a)(f,t);var e,n=y(f);function f(){return Object(c.a)(this,f),n.apply(this,arguments)}return Object(o.a)(f,[{key:"download",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("attachments/download",this.attachment.id);case 2:data=t.sent,Object(m.saveAs)(data,this.attachment.name);case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),f}(h.c);j([Object(h.b)({required:!0})],O.prototype,"attachment",void 0);var _=O=j([h.a],O),x=(n(312),n(51)),component=Object(x.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card mt-2"},[n("div",{staticClass:"card-header is-clickable",on:{click:function(e){return t.download()}}},[n("div",{staticClass:"card-header-icon"},[n("b-icon",{attrs:{icon:"cloud-arrow-down",size:"is-small"}})],1),t._v(" "),n("div",{staticClass:"card-header-title"},[t._v(t._s(t.attachment.name))])])])}),[],!1,null,"7776b4a0",null);e.default=component.exports},344:function(t,e,n){"use strict";n.r(e);n(285);var r=n(3),c=n(145),o=n(146),l=n(288),f=n(289),d=n(286),v=n(22),h=(n(18),n(65),n(10),n(209),n(30),n(287));function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var c=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var y=function(t,e,n,desc){var r,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(c<3?r(o):c>3?r(e,n,o):r(e,n))||o);return c>3&&o&&Object.defineProperty(e,n,o),o},j=function(t){Object(l.a)(f,t);var e,n=m(f);function f(){var t;return Object(c.a)(this,f),(t=n.apply(this,arguments)).files=[],t}return Object(o.a)(f,[{key:"deleteDropFile",value:function(t){this.files.splice(t,1)}},{key:"upload",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var data,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return data=new FormData,this.files.forEach((function(t){data.append("attachments",t)})),t.next=4,this.$store.dispatch("attachments/upload",data);case 4:t.sent.forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cases/addAttachment",{caseId:e.caseId,attachmentId:a.id});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),f}(h.c);y([Object(h.b)({required:!0})],j.prototype,"attachments",void 0),y([Object(h.b)({required:!0})],j.prototype,"caseId",void 0);var O=j=y([h.a],j),_=n(51),component=Object(_.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"is-flex is-justify-content-space-between is-align-items-center"},[n("div",{staticClass:"title is-6 mb-0"},[t._v("Anhänge")]),t._v(" "),n("div",[n("b-tag",[t._v(t._s(t.attachments.length))])],1)]),t._v(" "),n("div",{staticClass:"mx-3 mt-2"},t._l(t.attachments,(function(t){return n("attachment",{key:t.id,attrs:{attachment:t}})})),1),t._v(" "),n("b-field",[n("b-upload",{staticClass:"mt-2 is-flex is-justify-content-center",attrs:{multiple:"",size:"is-small",expanded:""},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[n("a",{staticClass:"button is-small is-expanded is-primary"},[t._v("Dateien hochladen")])])],1),t._v(" "),n("b-collapse",{attrs:{animation:"fade",open:0!==t.files.length}},[n("div",{staticClass:"box mx-5"},[n("div",{staticClass:"is-flex is-justify-content-space-between is-align-items-center"},[n("div",{staticClass:"title is-6 mb-0"},[t._v("Neue Anhänge")]),t._v(" "),n("div",[n("b-tag",[t._v(t._s(t.files.length))])],1)]),t._v(" "),n("div",{staticClass:"tags mx-4"},t._l(t.files,(function(e,r){return n("span",{key:r,staticClass:"tag is-primary"},[t._v("\n          "+t._s(e.name)+"\n          "),n("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(e){return t.deleteDropFile(r)}}})])})),0),t._v(" "),n("div",{staticClass:"has-text-centered"},[n("b-button",{attrs:{type:"is-primary",size:"is-small"},on:{click:function(e){return t.upload()}}},[t._v("Hochladen")])],1)])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Attachment:n(323).default})}}]);