(window.webpackJsonp=window.webpackJsonp||[]).push([[14,13],{326:function(t,e,n){var content=n(334);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("718f4d02",content,!0,{sourceMap:!1})},328:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return f}));n(26);var r=n(339),c=/^@[A-Z0-9._=-]+:[A-Z0-9.-]+\.[A-Z]{2,}$/i,o=/^@[A-Z0-9]{1}[A-Z0-9_]{3,}[A-Z0-9]{1}$/i,l=/^[1-9]{1}[0-9]{16,17}$/,d={phone:function(data){return""===data||Object(r.phone)(data,{country:"DE"}).isValid},discord:function(data){return""===data||l.test(data)},matrix:function(data){return""===data||c.test(data)},telegram:function(data){return""===data||o.test(data)},localGroup:function(){return!0}},v={phone:function(data){return Object(r.phone)(data,{country:"DE"}).phoneNumber||void 0},discord:function(data){return data||void 0},matrix:function(data){return data||void 0},telegram:function(data){return data||void 0},localGroup:function(data){return data||void 0}},f={phone:"phoneNumber",discord:"discord",matrix:"matrix",telegram:"telegram",localGroup:"localGroup"}},332:function(t,e,n){var content=n(341);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("714626db",content,!0,{sourceMap:!1})},333:function(t,e,n){"use strict";n(326)},334:function(t,e,n){var r=n(71)(!1);r.push([t.i,".mouse[data-v-2175e512]{cursor:pointer}",""]),t.exports=r},336:function(t,e,n){"use strict";n.r(e);n(315);var r=n(37),c=n(143),o=n(144),l=n(318),d=n(319),v=n(316),f=n(24),m=(n(70),n(10),n(54),n(317)),h=n(328);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var c=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _=function(t,e,n,desc){var r,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(c<3?r(o):c>3?r(e,n,o):r(e,n))||o);return c>3&&o&&Object.defineProperty(e,n,o),o},N=function(t){Object(l.a)(n,t);var e=y(n);function n(){var t;return Object(c.a)(this,n),(t=e.apply(this,arguments)).content="",t.edit=!1,t}return Object(o.a)(n,[{key:"isValid",get:function(){return h.c[this.validator](this.content)}},{key:"isValidAndNew",get:function(){if(!this.isValid)return!1;var data=h.a[this.validator](this.content);return!(data===this.value||!data&&!this.value)}},{key:"created",value:function(){this.content=this.value}},{key:"reset",value:function(){this.edit=!1,this.content=this.value}},{key:"update",value:function(){var t=this;if(this.isValidAndNew){var e=h.a[this.validator](this.content);this.$store.dispatch("targets/update",Object(r.a)({id:this.targetId},h.b[this.validator],e||null)).then((function(){t.reset()}))}}}]),n}(m.c);_([Object(m.b)({required:!0})],N.prototype,"label",void 0),_([Object(m.b)({required:!0})],N.prototype,"value",void 0),_([Object(m.b)({required:!0})],N.prototype,"targetId",void 0),_([Object(m.b)({required:!0})],N.prototype,"message",void 0),_([Object(m.b)({required:!0,validator:function(t){return"string"==typeof t&&["phone","discord","matrix","telegram","localGroup"].includes(t)}})],N.prototype,"validator",void 0);var x=N=_([m.a],N),k=(n(333),n(52)),component=Object(k.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"is-flex is-align-items-center"},[e("div",{staticStyle:{width:"100%"}},[e("b-field",{attrs:{label:t.label,"label-position":"on-border"}},[e("b-input",{attrs:{expanded:"",size:"is-small",disabled:!t.edit},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),t._v(" "),e("div",{staticClass:"ml-2 is-flex"},[t.edit?t._e():e("div",{staticClass:"mouse",on:{click:function(e){t.edit=!0}}},[e("b-icon",{attrs:{size:"is-small",icon:"edit"}})],1),t._v(" "),t.edit?e("div",{staticClass:"mouse mr-2",on:{click:function(e){return t.reset()}}},[e("b-icon",{attrs:{size:"is-small",type:"is-danger",icon:"ban"}})],1):t._e(),t._v(" "),t.edit?e("div",{class:{mouse:t.isValidAndNew},on:{click:function(e){return t.update()}}},[e("b-icon",{attrs:{size:"is-small",type:t.isValidAndNew?"is-success":"is-dark",icon:"check"}})],1):t._e()])]),t._v(" "),t.content&&!t.isValid?e("div",{staticClass:"has-text-right help mr-6"},[t._v("\n    "+t._s(t.message)+"\n  ")]):t._e()])}),[],!1,null,"2175e512",null);e.default=component.exports},340:function(t,e,n){"use strict";n(332)},341:function(t,e,n){var r=n(71)(!1);r.push([t.i,"div.card-header-icon.blocked[data-v-070e47c7]:hover{cursor:default}.first-letter[data-v-070e47c7]{text-transform:capitalize}.block[data-v-070e47c7]:hover{cursor:not-allowed}.mouse[data-v-070e47c7]:hover{cursor:pointer}.invisible[data-v-070e47c7]{visibility:hidden}",""]),t.exports=r},352:function(t,e,n){"use strict";n.r(e);n(23),n(315);var r=n(143),c=n(144),o=n(318),l=n(319),d=n(316),v=n(24),f=(n(70),n(10),n(317));function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var c=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var h=function(t,e,n,desc){var r,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(c<3?r(o):c>3?r(e,n,o):r(e,n))||o);return c>3&&o&&Object.defineProperty(e,n,o),o},y=function(t){Object(o.a)(n,t);var e=m(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).editName=!1,t.newName=t.target.name,t.isDeleting=!1,t.newNote="",t.open=!1,t.notesOpen=0!==t.target.notes.length,t}return Object(c.a)(n,[{key:"cancelNameEdit",value:function(){this.newName=this.target.name,this.editName=!1}},{key:"saveNewName",value:function(){var t=this;""!==this.newName&&(this.newName===this.target.name?this.editName=!1:this.$store.dispatch("targets/update",{id:this.target.id,name:this.newName}).then((function(){t.editName=!1,t.newName=t.target.name})))}},{key:"deleteChat",value:function(){this.$store.dispatch("targets/delete",this.target.id)}},{key:"addNote",value:function(){var t=this;this.$store.dispatch("targets/addNote",{targetId:this.target.id,note:this.newNote}).then((function(){t.newNote=""}))}},{key:"removeNote",value:function(t){this.$store.dispatch("targets/removeNote",{targetId:this.target.id,noteIndex:t})}}]),n}(f.c);h([Object(f.b)({required:!0})],y.prototype,"target",void 0);var _=y=h([f.a],y),N=(n(340),n(52)),component=Object(N.a)(_,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"card mb-2"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-header-icon",on:{click:function(e){t.open=!t.open}}},[e("b-icon",{attrs:{size:"is-small",icon:t.open?"chevron-up":"chevron-down"}})],1),t._v(" "),t.editName?e("b-input",{staticClass:"card-header-title p-0 pl-1",attrs:{placeholder:"Der Name des Menschen...",expanded:""},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}):e("div",{staticClass:"card-header-title mouse",on:{click:function(e){t.open=!t.open}}},[t._v("\n      "+t._s(t.target.name)+"\n    ")]),t._v(" "),t.editName?t._e():e("div",{staticClass:"card-header-icon",on:{click:function(e){t.editName=!0}}},[e("b-icon",{attrs:{icon:"edit",size:"is-small"}})],1),t._v(" "),t.editName?e("div",{staticClass:"card-header-icon pr-0 mr-1",on:{click:function(e){return t.cancelNameEdit()}}},[e("b-icon",{attrs:{icon:"ban",type:"is-danger",size:"is-small"}})],1):t._e(),t._v(" "),t.editName?e("div",{staticClass:"card-header-icon pl-0",class:{blocked:""===t.newName},on:{click:function(e){return t.saveNewName()}}},[e("b-icon",{attrs:{icon:"check",type:""===t.newName?"is-dark":"is-success",size:"is-small"}})],1):t._e()],1),t._v(" "),e("b-collapse",{attrs:{animation:"slide",open:t.open}},[e("div",{staticClass:"card-content p-2 px-5 pt-4"},[e("SocialEntry",{attrs:{message:"","target-id":t.target.id,validator:"localGroup",label:"Ortsgruppe"},model:{value:t.target.localGroup,callback:function(e){t.$set(t.target,"localGroup",e)},expression:"target.localGroup"}}),t._v(" "),e("div",{staticClass:"columns mt-2"},[e("div",{staticClass:"column"},[e("SocialEntry",{attrs:{message:"*ungültige Telefonnummer","target-id":t.target.id,validator:"phone",label:"Telefonnummer"},model:{value:t.target.phoneNumber,callback:function(e){t.$set(t.target,"phoneNumber",e)},expression:"target.phoneNumber"}})],1),t._v(" "),e("div",{staticClass:"column"},[e("SocialEntry",{attrs:{message:"*ungültige Matrix-ID","target-id":t.target.id,validator:"matrix",label:"Matrix-ID"},model:{value:t.target.matrix,callback:function(e){t.$set(t.target,"matrix",e)},expression:"target.matrix"}})],1)]),t._v(" "),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("SocialEntry",{attrs:{message:"*ungültiger Telegramname","target-id":t.target.id,validator:"telegram",label:"Telegram"},model:{value:t.target.telegram,callback:function(e){t.$set(t.target,"telegram",e)},expression:"target.telegram"}})],1),t._v(" "),e("div",{staticClass:"column"},[e("SocialEntry",{attrs:{message:"*ungültige DIscord-ID","target-id":t.target.id,validator:"discord",label:"Discord"},model:{value:t.target.discord,callback:function(e){t.$set(t.target,"discord",e)},expression:"target.discord"}})],1)]),t._v(" "),e("div",{staticClass:"mt-3"},[e("b-collapse",{staticClass:"card",scopedSlots:t._u([{key:"trigger",fn:function(n){return[e("div",{staticClass:"card-header p-0"},[e("div",{staticClass:"card-header-icon p-3 px-4"},[e("b-icon",{attrs:{icon:n.open?"chevron-up":"chevron-down",size:"is-small"}})],1),t._v(" "),e("div",{staticClass:"card-header-title p-3"},[e("div",{staticClass:"is-flex is-align-items-center"},[e("div",[t._v("Notizen")]),t._v(" "),e("div",{staticClass:"ml-1"})])]),t._v(" "),e("div",{staticClass:"card-header-icon p-3 px-4"},[e("b-tag",{attrs:{type:"is-primary"}},[t._v(t._s(t.target.notes.length))])],1)])]}}]),model:{value:t.notesOpen,callback:function(e){t.notesOpen=e},expression:"notesOpen"}},[t._v(" "),e("div",{staticClass:"card-content p-3"},[t._l(t.target.notes,(function(n){return e("div",{key:t.target.notes.indexOf(n),staticClass:"p-4 mb-2"},[e("b-input",{staticStyle:{"min-height":"0"},attrs:{size:"is-small",type:"textarea",value:n,expanded:"",disabled:""}}),t._v(" "),e("div",{staticClass:"has-text-right help"},[e("a",{on:{click:function(e){t.removeNote(t.target.notes.indexOf(n))}}},[t._v("löschen")])])],1)})),t._v(" "),0===t.target.notes.length?e("div",{staticClass:"has-text-centered p-3"},[t._v("\n              Keine Notitzen\n            ")]):t._e(),t._v(" "),e("div",{staticClass:"mt-3 mb-2"},[e("b-field",{attrs:{label:"Neue Notitz","label-position":"on-border"}},[e("b-input",{attrs:{size:"is-small",type:"textarea"},model:{value:t.newNote,callback:function(e){t.newNote=e},expression:"newNote"}})],1)],1),t._v(" "),e("b-button",{attrs:{size:"is-small",type:"is-primary",disabled:""===t.newNote,expanded:""},on:{click:function(e){return t.addNote()}}},[t._v("\n              Notitz speichern\n            ")])],2)])],1),t._v(" "),e("div",{staticClass:"is-flex is-justify-content-center mt-3 mb-0"},[t.isDeleting?t._e():e("div",{staticClass:"mouse",on:{click:function(e){t.isDeleting=!0}}},[e("b-icon",{attrs:{icon:"trash",size:"is-small",type:"is-danger"}})],1),t._v(" "),t.isDeleting?e("div",{staticClass:"mouse mr-1",on:{click:function(e){t.isDeleting=!1}}},[e("b-icon",{attrs:{icon:"ban",size:"is-small",type:"is-danger"}})],1):t._e(),t._v(" "),t.isDeleting?e("div",{staticClass:"mouse ml-1",on:{click:function(e){return t.deleteChat()}}},[e("b-icon",{attrs:{icon:"check",size:"is-small",type:"is-success"}})],1):t._e()])],1)])],1)}),[],!1,null,"070e47c7",null);e.default=component.exports;installComponents(component,{SocialEntry:n(336).default})}}]);